<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Tienda de Aplicaciones</title>
    <link rel="stylesheet" href="/Styles.css"> <!-- Enlace al archivo CSS externo -->
</head>
<body>
    <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <a href="https://t.me/Apps_YCV" target="_blank">Únetenos a Telegram</a>
        <p></p>
        <a href="javascript:void(0)" onclick="document.getElementById('donationModal').style.display='block'">Donaciones</a>
    </div>

    <div class="header">
        <h1>Mi Tienda de Aplicaciones</h1>
        <div class="menu-button-container">
            <span class="menu-button" onclick="openNav()">&#9776; Menú</span>
        </div>
    </div>
<br>
<!--
<marquee behavior="scroll" direction="left" style="color: blue;">
        Añadidos <span style="color: red;">26</span> nuevos diagramas en pdf.
    </marquee>
-->
    <div id="donationModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('donationModal').style.display='none'">&times;</span>
            <h2>Donaciones</h2>
            <div class="qr-code">
                <img src="/qr.jpg" alt="Código QR">
            </div>
            <p>Escanea el código QR para realizar una donación a nuestra cuenta.</p>
        </div>
    </div>

    <div class="main-content" id="app-container">
        <!-- Las aplicaciones serán cargadas aquí -->
    </div>

    <div class="footer">
        <p>&copy; 2025 Mi Tienda de Aplicaciones. Todos los derechos reservados.</p>
    </div>

    <script>
        function openNav() {
            document.getElementById("mySidenav").style.width = "250px";
            document.getElementById("app-container").style.marginLeft = "250px";
        }

        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
            document.getElementById("app-container").style.marginLeft = "0";
        }

        // Cargar aplicaciones desde el archivo apps.txt
        async function loadApps() {
            const appContainer = document.getElementById('app-container');
            appContainer.classList.add('app-container');
            try {
                const response = await fetch('apps.txt');
                const data = await response.text();
                const lines = data.split('\n');
                for (let i = 0; i < lines.length; i += 5) {
                    const title = lines[i].trim();
                    const description = lines[i + 1].trim();
                    const link = lines[i + 2].trim();
                    const icon = lines[i + 3].trim();
                    const fileSize = lines[i + 4].trim(); // Obtener el tamaño desde la quinta línea

                    if (title && description && link && icon && fileSize) {
                        const appCard = document.createElement('div');
                        appCard.className = 'app-card';

                        // Crear el contenido de la tarjeta de la aplicación
                        appCard.innerHTML = `
                            <img src="${icon}" alt="${title}" class="app-icon">
                            <h2>${title}</h2>
                            <p>${description}</p>
                            <p><strong>Tamaño:</strong> ${fileSize}</p>
                            <a href="${link}" class="download-button">Descargar</a>
                        `;

                        appContainer.appendChild(appCard);
                    }
                }
            } catch (error) {
                console.error('Error al cargar las aplicaciones:', error);
            }
        }

        // Cargar las aplicaciones al cargar la página
        window.onload = loadApps;
    </script>
</body>
</html>